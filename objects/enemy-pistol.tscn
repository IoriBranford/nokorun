[gd_scene load_steps=7 format=3 uid="uid://dwt74xbm0empv"]

[ext_resource type="Script" path="res://objects/enemy.gd" id="1_6ofdg"]
[ext_resource type="PackedScene" uid="uid://b27cw18rm2t1s" path="res://models/blake/blake.glb" id="2_mlayj"]
[ext_resource type="AudioStream" uid="uid://dmkdwus0ob1jv" path="res://sounds/enemy_die_sounds.tres" id="3_yv45b"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_p7srn"]
radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xjm4a"]
albedo_color = Color(1, 0, 0, 1)
emission_enabled = true
emission = Color(1, 0, 0, 1)

[sub_resource type="BoxMesh" id="BoxMesh_tv1p1"]
material = SubResource("StandardMaterial3D_xjm4a")
size = Vector3(0.05, 0.05, 1)

[node name="enemy-pistol" type="CharacterBody3D"]
collision_layer = 64
collision_mask = 33
script = ExtResource("1_6ofdg")

[node name="model" parent="." instance=ExtResource("2_mlayj")]

[node name="Skeleton3D" parent="model/armature" index="0"]
bones/1/position = Vector3(1.2653e-17, 0.767911, -0.0561918)
bones/1/rotation = Quaternion(-0.0597459, -0.173078, -0.0105191, 0.983038)
bones/2/rotation = Quaternion(-0.0626809, 0.160251, 0.0532952, 0.983642)
bones/3/rotation = Quaternion(0.16679, 0.000782747, 0.000106684, 0.985992)
bones/4/rotation = Quaternion(0.0265693, 0.998983, 0.0357333, 0.00706995)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(-0.597968, 0.320861, 0.499512, 0.538488)
bones/5/scale = Vector3(1, 1, 1)
bones/6/rotation = Quaternion(-0.500434, -0.0374545, -0.429448, 0.750825)
bones/7/rotation = Quaternion(0.101959, 0.0116266, -0.549937, 0.828878)
bones/8/rotation = Quaternion(0.00664835, -0.78931, 0.0723026, 0.609687)
bones/8/scale = Vector3(1, 1, 1)
bones/9/rotation = Quaternion(-0.0825846, -0.709946, 0.0286017, 0.698812)
bones/9/scale = Vector3(1, 1, 1)
bones/10/rotation = Quaternion(-0.0818456, 0.0362436, 0.724262, 0.68369)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(-0.0981335, -0.00452975, 0.407687, 0.907822)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-0.0241317, -0.632287, -0.0173805, 0.774163)
bones/12/scale = Vector3(1, 1, 1)
bones/13/rotation = Quaternion(-0.0190324, -0.101545, 0.688378, 0.717957)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(0.0279157, 0.0235408, 0.482082, 0.875365)
bones/14/scale = Vector3(1, 1, 1)
bones/15/rotation = Quaternion(-0.280217, -0.675116, 0.151757, 0.665332)
bones/16/rotation = Quaternion(0.0188925, -0.0540965, 0.496824, 0.865957)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(-0.0807749, 0.0165354, 0.691574, 0.717585)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(-0.299712, -0.639113, 0.389939, 0.591316)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(0.0451955, -0.0292772, 0.529652, 0.846504)
bones/19/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(-0.0235845, -0.000786965, 0.306319, 0.951636)
bones/21/rotation = Quaternion(-0.563715, -0.661511, 0.180464, 0.460502)
bones/21/scale = Vector3(1, 1, 1)
bones/22/rotation = Quaternion(0.155776, 0.0131006, -0.0822322, 0.984276)
bones/23/rotation = Quaternion(0.169098, 0.00256271, -0.10165, 0.98034)
bones/23/scale = Vector3(1, 1, 1)
bones/24/rotation = Quaternion(0.527116, 0.381514, 0.597459, -0.468656)
bones/25/rotation = Quaternion(-0.43902, 0.365743, 0.544621, 0.613907)
bones/25/scale = Vector3(1, 1, 1)
bones/26/rotation = Quaternion(-0.121242, -0.0133678, 0.133415, 0.983525)
bones/27/rotation = Quaternion(0.278239, 0.0498879, -0.12863, 0.950552)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(-0.171806, 0.694129, -0.103513, 0.691342)
bones/28/scale = Vector3(1, 1, 1)
bones/29/rotation = Quaternion(-0.0894997, -0.0372077, -0.780783, 0.617238)
bones/29/scale = Vector3(1, 1, 1)
bones/30/rotation = Quaternion(-0.096791, 0.00229179, -0.421365, 0.901708)
bones/30/scale = Vector3(1, 1, 1)
bones/31/rotation = Quaternion(-0.120841, 0.63, -0.0582027, 0.764925)
bones/31/scale = Vector3(1, 1, 1)
bones/32/rotation = Quaternion(-0.0256336, 0.0939081, -0.783371, 0.613884)
bones/33/rotation = Quaternion(0.0278734, -0.0217885, -0.515525, 0.856144)
bones/34/rotation = Quaternion(-0.250801, 0.636837, -0.147183, 0.714055)
bones/35/rotation = Quaternion(0.0280716, -0.00851494, -0.552609, 0.832925)
bones/36/rotation = Quaternion(-0.0525742, -0.0497803, -0.74302, 0.665341)
bones/37/rotation = Quaternion(-0.229009, 0.64715, -0.31752, 0.654166)
bones/37/scale = Vector3(1, 1, 1)
bones/38/rotation = Quaternion(0.0638752, 0.00029643, -0.602895, 0.795259)
bones/39/rotation = Quaternion(-0.00631097, -0.00767181, -0.40877, 0.912583)
bones/39/scale = Vector3(1, 1, 1)
bones/40/rotation = Quaternion(-0.314675, 0.735131, -0.0964922, 0.592665)
bones/40/scale = Vector3(1, 1, 1)
bones/41/rotation = Quaternion(0.0913382, 0.000651061, 0.0187265, 0.995644)
bones/41/scale = Vector3(1, 1, 1)
bones/42/scale = Vector3(1, 1, 1)
bones/43/rotation = Quaternion(-0.200825, -0.000491004, 0.00344838, 0.979621)
bones/44/rotation = Quaternion(0.201074, -1.17047e-07, -5.40374e-08, 0.979576)
bones/45/rotation = Quaternion(0.868384, 5.9115e-08, -4.41681e-07, -0.495893)
bones/47/rotation = Quaternion(-0.335573, 0.649272, 0.643066, 0.228699)
bones/48/rotation = Quaternion(0.335573, 0.649272, 0.643066, -0.228699)
bones/49/rotation = Quaternion(0.112422, -0.0437361, 0.973807, 0.192737)
bones/49/scale = Vector3(1, 1, 1)
bones/50/rotation = Quaternion(-0.112421, -0.0437362, 0.973807, -0.192738)
bones/50/scale = Vector3(0.999999, 1, 1)
bones/51/rotation = Quaternion(0.995789, 2.14347e-08, -6.24804e-07, -0.0916801)
bones/52/rotation = Quaternion(0.102889, 2.36694e-07, -6.4938e-08, 0.994693)
bones/54/rotation = Quaternion(-0.688443, -0.377159, -0.118738, 0.608029)
bones/55/rotation = Quaternion(-0.671331, -0.031226, 0.0290482, 0.739929)
bones/56/rotation = Quaternion(-0.671331, 0.0312263, -0.029048, 0.739929)
bones/57/rotation = Quaternion(-0.54015, -0.0346446, 0.0228945, 0.840544)
bones/57/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(-0.54015, 0.0346449, -0.0228943, 0.840544)
bones/58/scale = Vector3(1, 1, 1)
bones/59/rotation = Quaternion(-0.745358, -0.0274453, 0.0315595, 0.665351)
bones/59/scale = Vector3(1, 1, 1)
bones/60/scale = Vector3(1, 1, 1)
bones/61/rotation = Quaternion(-0.187768, 0.452386, 0.652831, 0.577843)
bones/62/rotation = Quaternion(-0.0863858, 0.216932, 0.376842, 0.896364)
bones/62/scale = Vector3(1, 1, 1)
bones/63/rotation = Quaternion(-0.187768, -0.452385, -0.652831, 0.577843)
bones/63/scale = Vector3(1, 1, 1)
bones/64/rotation = Quaternion(-0.0863858, -0.216932, -0.376842, 0.896364)
bones/64/scale = Vector3(1, 1, 1)
bones/65/rotation = Quaternion(0.701726, 0.00386968, 0.708074, 0.078718)
bones/65/scale = Vector3(1.00001, 1, 1.00001)
bones/66/rotation = Quaternion(0.449356, -0.558206, 0.126192, 0.685975)
bones/67/rotation = Quaternion(-0.701726, 0.00386967, 0.708075, -0.078718)
bones/67/scale = Vector3(1.00001, 1, 1.00001)
bones/69/rotation = Quaternion(-0.773007, -3.02505e-07, 6.69619e-07, 0.634397)
bones/69/scale = Vector3(1, 1, 1)
bones/70/rotation = Quaternion(-0.000129522, -0.0257853, 0.99957, -0.0139493)
bones/70/scale = Vector3(0.999998, 1, 0.999993)
bones/71/rotation = Quaternion(0.0343111, 0.945072, -0.325055, -0.00111724)
bones/71/scale = Vector3(1, 1, 1)
bones/72/rotation = Quaternion(0.0271431, 0.612601, -0.778811, -0.132053)
bones/73/rotation = Quaternion(0.130721, -5.19014e-06, -7.68981e-07, 0.991419)
bones/74/rotation = Quaternion(-0.00961422, 0.174878, 0.982787, -0.0587829)
bones/74/scale = Vector3(0.999998, 1, 0.999993)
bones/75/rotation = Quaternion(0.0317888, 0.942368, -0.333037, -0.00433175)
bones/75/scale = Vector3(1, 1, 1)
bones/76/rotation = Quaternion(-0.0101119, 0.729385, -0.683548, -0.0256428)
bones/77/rotation = Quaternion(0.0795574, 0.0728189, 0.0571375, 0.992524)
bones/78/rotation = Quaternion(-0.707107, 0, 0, 0.707107)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_p7srn")

[node name="RayCast3D" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 16, 0, 1.5, 1)
target_position = Vector3(0, 0, 1)
collision_mask = 48
collide_with_areas = true

[node name="LaserSight" type="Node3D" parent="RayCast3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="RayCast3D/LaserSight"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.5)
mesh = SubResource("BoxMesh_tv1p1")
skeleton = NodePath("../..")

[node name="DeathCry" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("3_yv45b")

[editable path="model"]
